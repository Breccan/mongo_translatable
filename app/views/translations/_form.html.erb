<h2 style="margin:0 0 10px 0;">
  <%= I18n.t('translations.form.translate_from_and_to',
             :from => TranslationsHelper::available_locales[I18n.locale],
             :to => TranslationsHelper::available_locales[h(@translation.locale)]) %>
</h2>

<%= form.error_messages %>
<%= form.hidden_field :locale  %>

<!-- Use a table instead of floated divs because it gives better results in IE -->
<table style="width: 98%;">
  <tr>
    <th colspan="2" style="width: 48%;">
      <h3 style="margin:0 0 10px 0;"><%= TranslationsHelper::available_locales[I18n.locale] %></h3>
    </th>
    <th rowspan="<%= @translatable_class.translatable_attributes.size + 1 %>" style="width:1px; border-left: 1px solid #000; padding: 0; margin: 0"></th>
    <th colspan="3" style="width: 48%;">
      <h3 style="margin:0 0 10px 0;"><%= TranslationsHelper::available_locales[@translation.locale] %></h3>
    </th>
  </tr>

  <% @translatable_class.translatable_attributes.each do |attribute_key| %>
    <tr>
      <%= render 'translatable_value', :translatable_value => untranslated_values_with_localized_labels.find { |l| l[:attribute_key] == attribute_key } %>
      <%= render 'translation_field', :form => form, :translation_field => attribute_key %>
    </tr>
  <% end %>
</table>

<div class="make_translation" style="text-align: center; margin-top: 20px; width: 98%;">
  <%= form.submit @button_text %>
</div>

<div class="translate_links" style="margin-top: 20px;">
  <%= available_in_locales_for(@original, :lightbox => request.xhr?) %>
  <%= needed_in_locales_for(@original, :lightbox => request.xhr?) %>
</div>
